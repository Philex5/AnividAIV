# ä¸–ç•Œè§‚åˆ›å»ºé¡µé¢è®¾è®¡

**Related**: FEAT-WORLDS | [feature-worlds.md](../features/feature-worlds.md)

## é¡µé¢è·¯å¾„

- `/worlds/create`
- **æƒé™è¦æ±‚**ï¼šç™»å½•ç”¨æˆ·

## è®¾è®¡ç†å¿µ

- **æ ¸å¿ƒå­—æ®µå…¨éƒ¨åœ¨ç¬¬ä¸€é¡µ**ï¼Œæµç¨‹æç®€ï¼Œé€‚åˆæ–°æ‰‹å’Œè½»åº¦ç”¨æˆ·
- **é«˜çº§è®¾ç½®é»˜è®¤æ”¶èµ·**ï¼Œé€‚åˆè¿›é˜¶ç”¨æˆ·æˆ–ä¸–ç•Œè§‚ä¸»ç†äºº
- **è‡ªå®šä¹‰æ‰©å±•æ”¯æŒæ·»åŠ ä»»æ„å­—æ®µ**ï¼Œæ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚
- **å“åº”å¼è®¾è®¡**ï¼Œç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯éƒ½æœ‰è‰¯å¥½ä½“éªŒ

## é¡µé¢å¸ƒå±€

### åŸºç¡€ç‰ˆæœ¬ï¼ˆæŠ˜å çŠ¶æ€ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»ºæ–°ä¸–ç•Œè§‚                                 â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ åç§°*         [__________________________]   â”‚
â”‚               æœ€å¤š100å­—ç¬¦                     â”‚
â”‚                                               â”‚
â”‚ ç®€ä»‹*         [__________________________]   â”‚
â”‚               [__________________________]   â”‚
â”‚               [__________________________]   â”‚
â”‚               æœ€å¤š500å­—ï¼Œä¸€å¥è¯æˆ–å‡ å¥è¯æè¿°   â”‚
â”‚                                               â”‚
â”‚ ç›¸å…³OC       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚             â”‚  â—‹ â—‹ â—‹  [+]               â”‚   â”‚
â”‚             â”‚  æœ€å¤šä¸¤è¡Œï¼Œå†…éƒ¨æ»šåŠ¨         â”‚   â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                               â”‚
â”‚ å°é¢å›¾        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚               â”‚   [ä¸Šä¼ å›¾ç‰‡]          â”‚       â”‚
â”‚               â”‚   [AIç”Ÿæˆå°é¢]        â”‚       â”‚
â”‚               â”‚   [ä»å›¾åº“é€‰æ‹©]        â”‚       â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚               å»ºè®®å°ºå¯¸ï¼š1200x630              â”‚
â”‚                                               â”‚
â”‚ ä¸»è¦ç§æ—      [äººç±»] [ç²¾çµ] [å…½äºº] [æœºå™¨äºº]   â”‚
â”‚               [+ æ·»åŠ è‡ªå®šä¹‰ç§æ—]              â”‚
â”‚               å·²é€‰ï¼š[äººç±» Ã—] [ç²¾çµ Ã—]         â”‚
â”‚                                               â”‚
â”‚ æ°”å€™/ç¯å¢ƒ     [ä¸‹æ‹‰é€‰æ‹© â–¼]                   â”‚
â”‚               â—‹ æ¸©å¸¦å››å­£  â—‹ çƒ­å¸¦é›¨æ—          â”‚
â”‚               â—‹ æåœ°è‹”åŸ  â—‹ è‡ªå®šä¹‰           â”‚
â”‚                                               â”‚
â”‚ ä»£è¡¨é¢œè‰²      ä¸»è‰²è°ƒ [#FF6B9D â–¼]            â”‚
â”‚               è¾…åŠ©è‰² [#4A90E2 â–¼]             â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ [å±•å¼€é«˜çº§è®¾ç½® â–¼]                             â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ [å–æ¶ˆ]                             [åˆ›å»º]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±•å¼€é«˜çº§è®¾ç½®å

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ”¶èµ·é«˜çº§è®¾ç½® â–²]                                          â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ åœ°å½¢/åœ°åŒº    [å¤šé€‰æ ‡ç­¾]                                   â”‚
â”‚              [æ£®æ—] [å±±è„‰] [æ²™æ¼ ] [æµ·æ´‹] [åœ°ä¸‹åŸ]         â”‚
â”‚              [+ æ·»åŠ è‡ªå®šä¹‰]                               â”‚
â”‚              å·²é€‰ï¼š[æ£®æ— Ã—] [å±±è„‰ Ã—]                      â”‚
â”‚                                                           â”‚
â”‚ ç§‘æŠ€/é­”æ³•ä½“ç³» [å¡ç‰‡é€‰æ‹©å™¨]                                â”‚
â”‚              â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”               â”‚
â”‚              â”‚ ğŸ° â”‚ â”‚ ğŸ¤– â”‚ â”‚ ğŸ”® â”‚ â”‚ âš™ï¸  â”‚               â”‚
â”‚              â”‚ä¸­ä¸–â”‚ â”‚èµ›åšâ”‚ â”‚é«˜é­”â”‚ â”‚è’¸æ±½â”‚ ...            â”‚
â”‚              â”‚é­”æ³•â”‚ â”‚æœ‹å…‹â”‚ â”‚å¹»æƒ³â”‚ â”‚æœ‹å…‹â”‚                 â”‚
â”‚              â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜               â”‚
â”‚                                                           â”‚
â”‚ ä¸»è¦åŠ¿åŠ›/ç»„ç»‡ [+ æ·»åŠ åŠ¿åŠ›]                                â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚              â”‚ ç²¾çµè®®ä¼š                  [ç¼–è¾‘][åˆ é™¤]â”‚    â”‚
â”‚              â”‚ ç±»å‹: æ”¿åºœ  é˜µè¥: å®ˆåºå–„è‰¯          â”‚    â”‚
â”‚              â”‚ ç®€ä»‹: æŒç®¡æ£®æ—çš„å¤è€åŠ¿åŠ›...         â”‚    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚ å†å²/äº‹ä»¶     [+ æ·»åŠ äº‹ä»¶]                                â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚              â”‚ é­”æ³•æˆ˜äº‰                  [ç¼–è¾‘][åˆ é™¤]â”‚    â”‚
â”‚              â”‚ æ—¶é—´: Age 0  é‡è¦æ€§: é‡å¤§           â”‚    â”‚
â”‚              â”‚ æè¿°: äººç±»ä¸ç²¾çµä¹‹é—´çš„ç™¾å¹´æˆ˜äº‰...   â”‚    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚ è‡ªå®šä¹‰æ‰©å±•    [+ æ·»åŠ è‡ªå®šä¹‰å­—æ®µ]                          â”‚
â”‚              ç¤ºä¾‹ï¼šè´§å¸ç³»ç»Ÿã€ç‰¹æ®ŠèŠ‚æ—¥ã€ç‹¬ç‰¹ç‰©äº§ç­‰          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚              â”‚ è´§å¸ç³»ç»Ÿ: é­”æ³•æ°´æ™¶          [åˆ é™¤]   â”‚    â”‚
â”‚              â”‚ ç‰¹æ®ŠèŠ‚æ—¥: æœˆå…‰ç¥­, æ”¶è·èŠ‚    [åˆ é™¤]   â”‚    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚ å¯è§æ€§        â—‹ å…¬å¼€ï¼ˆæ‰€æœ‰äººå¯è§ï¼‰                        â”‚
â”‚              â—‹ ç§æœ‰ï¼ˆä»…è®¢é˜…ç”¨æˆ·å¯è§ï¼‰                     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ [å–æ¶ˆ]                             [ä¿å­˜è‰ç¨¿]   [åˆ›å»º]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å­—æ®µè¯´æ˜

### åŸºç¡€å­—æ®µï¼ˆå¿…å¡«/å¸¸ç”¨ï¼‰

1. **åç§°** (name) - å¿…å¡«
   - æœ€å¤š 100 å­—ç¬¦
   - å”¯ä¸€æ€§æ ¡éªŒï¼ˆslug è‡ªåŠ¨ç”Ÿæˆï¼‰
   - ç¤ºä¾‹ï¼šèµ›åšæœ‹å…‹ 2077ã€å¥‡å¹»å¤§é™†

2. **ç®€ä»‹** (description) - å¿…å¡«
   - æœ€å¤š 500 å­—
   - å¤šè¡Œæ–‡æœ¬æ¡†
   - ç”¨äºå¡ç‰‡å±•ç¤ºå’Œ SEO

3. **æµæ´¾** (genre) - å¿…å¡«/ä¸€é”®é€‰æ‹©
   - ä¸‹æ‹‰é€‰æ‹©å™¨æˆ–å¡ç‰‡é€‰æ‹©å™¨
   - æ•°æ®æºï¼š`src/configs/worlds/world-types.json`
   - **å›½é™…åŒ–**ï¼šä½¿ç”¨ `genre.name_key` å’Œ `genre.description_key` ä»å…¨å±€ç¿»è¯‘æ–‡ä»¶åŠ è½½åç§°å’Œæè¿°ã€‚
   - è”åŠ¨é€»è¾‘ï¼šé€‰ä¸­æµæ´¾åï¼Œè‡ªåŠ¨æ›´æ–°æ ‡ç­¾é€‰æ‹©å™¨çš„æ¨èé¡¹ã€‚

4. **æ ‡ç­¾** (tags)
   - å¤šé€‰æ ‡ç­¾äº‘ï¼ˆMulti-select Tagsï¼‰
   - æ¥æºï¼šæ ¹æ® `genre` è”åŠ¨æ˜¾ç¤º `suggested_tags`
   - æ”¯æŒç”¨æˆ·è¾“å…¥è‡ªå®šä¹‰æ ‡ç­¾
   - ç”¨é€”ï¼šç»†åŒ–ä¸–ç•Œç‰¹å¾ï¼Œè¾…åŠ© AI å°é¢ç”Ÿæˆå‚æ•°ã€‚

5. **å°é¢å›¾** (cover_url)
   - æ”¯æŒä¸‰ç§æ–¹å¼ï¼š
     - ä¸Šä¼ æœ¬åœ°å›¾ç‰‡ï¼ˆæœ€å¤§ 10MBï¼‰
     - AI ç”Ÿæˆå°é¢ï¼ˆè¾“å…¥å…³é”®è¯ï¼Œ10 MCï¼‰
     - ä»å›¾åº“é€‰æ‹©ï¼ˆé¢„ç½®æ¨¡æ¿ï¼‰
   - å»ºè®®å°ºå¯¸ï¼š1200x630
   - å­˜å‚¨åˆ° R2

4. **ä¸»è¦ç§æ—** (species)
   - å¤šé€‰ + è‡ªå®šä¹‰
   - é¢„ç½®é€‰é¡¹ï¼šäººç±»ã€ç²¾çµã€å…½äººã€çŸ®äººã€é¾™æ—ã€æœºå™¨äººã€å¤©ä½¿ã€æ¶é­”ç­‰
   - Badge å½¢å¼å±•ç¤ºå·²é€‰é¡¹
   - æœ€å¤š 20 ä¸ª

5. **æ°”å€™/ç¯å¢ƒ** (climate)
   - ä¸‹æ‹‰é€‰æ‹©æˆ–è‡ªå®šä¹‰è¾“å…¥
   - é¢„ç½®é€‰é¡¹ï¼šæ¸©å¸¦å››å­£ã€çƒ­å¸¦é›¨æ—ã€æåœ°è‹”åŸã€æ²™æ¼ ã€æµ·æ´‹ã€åœ°ä¸‹ç­‰
   - ä½¿ç”¨ i18n key

6. **ä»£è¡¨é¢œè‰²** (theme_colors)
   - ä¸»è‰²è°ƒï¼ˆå¿…å¡«ï¼‰
   - è¾…åŠ©è‰²ï¼ˆå¯é€‰ï¼‰
   - ç”¨äºä¸–ç•Œè§‚è¯¦æƒ…é¡µçš„ä¸»é¢˜åŒ–å±•ç¤º

7. **ç›¸å…³OC** (related_ocs)
   - å±•ç¤ºçª—å£ä½äºæ ‡é¢˜ä¸ç®€ä»‹åŒºä¸‹æ–¹
   - å¤´åƒä¸ºåœ†å½¢ï¼Œé»˜è®¤å±•ç¤º 2 è¡Œï¼Œå¤šä½™å†…å®¹åœ¨çª—å£å†…æ»šåŠ¨ï¼Œéšè—å³ä¾§æ»šåŠ¨æ¡
   - å³ä¸Šè§’åˆ é™¤æŒ‰é’®ç§»é™¤å·²é€‰ OC
   - å³ä¾§è™šçº¿åœ†å½¢æŒ‰é’®æ‰“å¼€é€‰æ‹©å¼¹çª—
   - å¼¹çª—æ”¯æŒæœç´¢ã€ç‚¹å‡»é€‰æ‹©/å–æ¶ˆé€‰æ‹©
   - ä¿å­˜æ—¶å†™å…¥ OC çš„ `world_uuid`

### é«˜çº§è®¾ç½®ï¼ˆå¯é€‰ï¼‰

8. **åœ°å½¢/åœ°åŒº** (regions)
   - å¤šé€‰æ ‡ç­¾
   - é¢„ç½®ï¼šæ£®æ—ã€å±±è„‰ã€æ²™æ¼ ã€æµ·æ´‹ã€æ¹–æ³Šã€å¹³åŸã€åœ°ä¸‹åŸã€æµ®ç©ºå²›ç­‰
   - æ”¯æŒè‡ªå®šä¹‰
   - æœ€å¤š 20 ä¸ª

9. **ç§‘æŠ€/é­”æ³•ä½“ç³»** (tech_magic_system)
   - å¡ç‰‡å¼å•é€‰
   - é¢„ç½®é€‰é¡¹ï¼š
     - ä¸­ä¸–çºªé­”æ³• ğŸ°
     - èµ›åšæœ‹å…‹ ğŸ¤–
     - é«˜é­”å¹»æƒ³ ğŸ”®
     - è’¸æ±½æœ‹å…‹ âš™ï¸
     - ç§‘å¹»æœªæ¥ ğŸš€
     - æœ«ä¸–åºŸåœŸ â˜¢ï¸

10. **ä¸»è¦åŠ¿åŠ›/ç»„ç»‡** (factions)
   - åŠ¨æ€åˆ—è¡¨ï¼Œç‚¹å‡»"æ·»åŠ åŠ¿åŠ›"æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
   - æ¯ä¸ªåŠ¿åŠ›åŒ…å«ï¼š
     - åç§°ï¼ˆå¿…å¡«ï¼Œæœ€å¤š 100 å­—ç¬¦ï¼‰
     - ç±»å‹ï¼ˆä¸‹æ‹‰é€‰æ‹©ï¼šæ”¿åºœã€å†›äº‹ã€å®—æ•™ã€å…¬ä¼šã€å…¶ä»–ï¼‰
     - é˜µè¥ï¼ˆå¯é€‰ï¼šå®ˆåºå–„è‰¯ã€ä¸­ç«‹ã€æ··ä¹±é‚ªæ¶ç­‰ 9 ç§ï¼‰
     - ç®€ä»‹ï¼ˆå¯é€‰ï¼Œæœ€å¤š 500 å­—ç¬¦ï¼‰
     - å›¾æ ‡ï¼ˆå¯é€‰ï¼‰
   - æœ€å¤š 50 ä¸ªåŠ¿åŠ›

11. **å†å²/äº‹ä»¶** (history_timeline)
    - åŠ¨æ€åˆ—è¡¨ï¼Œç‚¹å‡»"æ·»åŠ äº‹ä»¶"æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†
    - æ¯ä¸ªäº‹ä»¶åŒ…å«ï¼š
      - æ ‡é¢˜ï¼ˆå¿…å¡«ï¼Œæœ€å¤š 200 å­—ç¬¦ï¼‰
      - æ—¶é—´æ ‡è®°ï¼ˆå¿…å¡«ï¼Œå¦‚"Age 0"ã€"Year 2077"ï¼‰
      - çºªå…ƒï¼ˆä¸‹æ‹‰ï¼šä¸Šå¤ã€ä¸­ä¸–çºªã€è¿‘ä»£ã€æœªæ¥ï¼‰
      - é‡è¦æ€§ï¼ˆé‡å¤§ã€æ¬¡è¦ï¼‰
      - æè¿°ï¼ˆå¯é€‰ï¼Œæœ€å¤š 1000 å­—ç¬¦ï¼‰
      - å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
    - æœ€å¤š 100 ä¸ªäº‹ä»¶
    - æŒ‰æ—¶é—´æ ‡è®°æ’åºå±•ç¤º

12. **è‡ªå®šä¹‰æ‰©å±•** (extra)
    - é”®å€¼å¯¹å½¢å¼
    - ç”¨æˆ·å¯è‡ªç”±æ·»åŠ ä»»æ„å­—æ®µ
    - ç¤ºä¾‹ï¼šè´§å¸ç³»ç»Ÿã€ç‰¹æ®ŠèŠ‚æ—¥ã€ç‹¬ç‰¹ç‰©äº§ã€è¯­è¨€æ–‡å­—ç­‰
    - æ¯ä¸ªå­—æ®µï¼š
      - å­—æ®µåï¼ˆæœ€å¤š 50 å­—ç¬¦ï¼‰
      - å­—æ®µå€¼ï¼ˆæœ€å¤š 500 å­—ç¬¦ï¼‰
    - æœ€å¤š 20 ä¸ªè‡ªå®šä¹‰å­—æ®µ

13. **å¯è§æ€§** (visibility_level)
    - å•é€‰
    - å…¬å¼€ï¼šæ‰€æœ‰ç”¨æˆ·å¯è§ï¼Œå¯è¢«æœç´¢
    - ç§æœ‰ï¼šä»…åˆ›å»ºè€…å¯è§ï¼ˆè®¢é˜…ç”¨æˆ·å¯é€‰ï¼‰

## äº¤äº’æµç¨‹

### 1. é¡µé¢åŠ è½½

```
ç”¨æˆ·è®¿é—® /worlds/create
  â†“
æ£€æŸ¥ç™»å½•çŠ¶æ€
  â†“
ã€æœªç™»å½•ã€‘è·³è½¬åˆ°ç™»å½•é¡µï¼Œç™»å½•åè¿”å›
ã€å·²ç™»å½•ã€‘æ¸²æŸ“åˆ›å»ºè¡¨å•
  â†“
ä» localStorage æ¢å¤è‰ç¨¿ï¼ˆå¦‚æœ‰ï¼‰
  â†“
æç¤ºç”¨æˆ·ï¼š"æ£€æµ‹åˆ°æœªä¿å­˜çš„è‰ç¨¿ï¼Œæ˜¯å¦ç»§ç»­ç¼–è¾‘ï¼Ÿ"
```

### 2. è¡¨å•å¡«å†™

```
ç”¨æˆ·å¡«å†™åŸºç¡€å­—æ®µ
  â†“
å®æ—¶æ ¡éªŒï¼ˆZod Schemaï¼‰
  - åç§°é•¿åº¦ã€å”¯ä¸€æ€§
  - ç®€ä»‹é•¿åº¦
  - é¢œè‰²æ ¼å¼
  â†“
è‡ªåŠ¨ä¿å­˜åˆ° localStorageï¼ˆæ¯ 30 ç§’æˆ–å­—æ®µå¤±ç„¦æ—¶ï¼‰
  â†“
ã€å¯é€‰ã€‘å±•å¼€é«˜çº§è®¾ç½®
  â†“
å¡«å†™é«˜çº§å­—æ®µï¼ˆåŠ¿åŠ›ã€äº‹ä»¶ã€è‡ªå®šä¹‰æ‰©å±•ï¼‰
```

### 3. æäº¤åˆ›å»º

```
ç”¨æˆ·ç‚¹å‡»"åˆ›å»º"æŒ‰é’®
  â†“
å‰ç«¯æ ¡éªŒ
  - å¿…å¡«å­—æ®µæ£€æŸ¥
  - å­—æ®µæ ¼å¼æ ¡éªŒ
  - æ•°ç»„é•¿åº¦é™åˆ¶
  â†“
ã€æ ¡éªŒå¤±è´¥ã€‘æ˜¾ç¤ºé”™è¯¯æç¤ºï¼Œèšç„¦åˆ°é”™è¯¯å­—æ®µ
ã€æ ¡éªŒæˆåŠŸã€‘è°ƒç”¨ API
  â†“
POST /api/worlds
  Request Body: {
    name, description, cover_url,
    species, climate, regions,
    tech_magic_system, theme_colors,
    factions, history_timeline, extra,
    visibility_level
  }
  â†“
åç«¯å¤„ç†ï¼š
  1. Zod Schema æ ¡éªŒ
  2. ç”Ÿæˆ UUID å’Œ slug
  3. æ’å…¥æ•°æ®åº“
  4. è¿”å› world_uuid
  â†“
ã€æˆåŠŸã€‘
  - æ¸…é™¤ localStorage è‰ç¨¿
  - æ˜¾ç¤ºæˆåŠŸæç¤ºï¼š"ä¸–ç•Œè§‚åˆ›å»ºæˆåŠŸï¼"
  - è·³è½¬åˆ°è¯¦æƒ…é¡µï¼š/worlds/[uuid]
  â†“
ã€å¤±è´¥ã€‘
  - æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
  - ä¿æŒè¡¨å•æ•°æ®
  - è‹¥è¿”å› `LIMIT_EXCEEDED`ï¼Œæç¤ºå‡çº§æ–‡æ¡ˆ
```

### 4. ä¿å­˜è‰ç¨¿

```
ç”¨æˆ·ç‚¹å‡»"ä¿å­˜è‰ç¨¿"æŒ‰é’®
  â†“
å°†å½“å‰è¡¨å•æ•°æ®ä¿å­˜åˆ° localStorage
  Key: world_draft_{timestamp}
  â†“
æ˜¾ç¤ºæˆåŠŸæç¤ºï¼š"è‰ç¨¿å·²ä¿å­˜"
  â†“
ç”¨æˆ·å¯ä»¥ç¦»å¼€é¡µé¢ï¼Œä¸‹æ¬¡è®¿é—®æ—¶æ¢å¤
```

## ç»„ä»¶ç»“æ„

```
worldCreatePage (é¡µé¢)
  â”œâ”€ worldForm (è¡¨å•å®¹å™¨)
  â”‚   â”œâ”€ BasicInfoSection (åŸºç¡€ä¿¡æ¯åŒº)
  â”‚   â”‚   â”œâ”€ Input (åç§°)
  â”‚   â”‚   â”œâ”€ Textarea (ç®€ä»‹)
  â”‚   â”‚   â”œâ”€ CoverImageUploader (å°é¢å›¾)
  â”‚   â”‚   â”œâ”€ SpeciesSelector (ç§æ—é€‰æ‹©å™¨)
  â”‚   â”‚   â”œâ”€ ClimateSelector (æ°”å€™é€‰æ‹©å™¨)
  â”‚   â”‚   â””â”€ ColorPicker (ä»£è¡¨é¢œè‰²)
  â”‚   â”‚
  â”‚   â””â”€ AdvancedSettingsSection (é«˜çº§è®¾ç½®åŒºï¼Œå¯æŠ˜å )
  â”‚       â”œâ”€ RegionsSelector (åœ°å½¢é€‰æ‹©å™¨)
  â”‚       â”œâ”€ TechMagicSystemCard (ä½“ç³»é€‰æ‹©å™¨)
  â”‚       â”œâ”€ FactionList (åŠ¿åŠ›åˆ—è¡¨)
  â”‚       â”‚   â””â”€ FactionEditor (åŠ¿åŠ›ç¼–è¾‘å¯¹è¯æ¡†)
  â”‚       â”œâ”€ EventList (äº‹ä»¶åˆ—è¡¨)
  â”‚       â”‚   â””â”€ EventEditor (äº‹ä»¶ç¼–è¾‘å¯¹è¯æ¡†)
  â”‚       â””â”€ CustomFieldsEditor (è‡ªå®šä¹‰å­—æ®µç¼–è¾‘å™¨)
  â”‚
  â””â”€ FormActions (æ“ä½œæŒ‰é’®åŒº)
      â”œâ”€ Button (å–æ¶ˆ)
      â”œâ”€ Button (ä¿å­˜è‰ç¨¿)
      â””â”€ Button (åˆ›å»º)
```

## å…³é”®ç»„ä»¶å®ç°

### CoverImageUploader ç»„ä»¶

æ”¯æŒä¸‰ç§ä¸Šä¼ æ–¹å¼ï¼š

**1. ä¸Šä¼ æœ¬åœ°å›¾ç‰‡**
```typescript
const handleFileUpload = async (file: File) => {
  // 1. æ ¡éªŒæ–‡ä»¶å¤§å°ï¼ˆæœ€å¤§ 10MBï¼‰
  if (file.size > 10 * 1024 * 1024) {
    toast.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 10MB");
    return;
  }

  // 2. ä¸Šä¼ åˆ° R2
  const formData = new FormData();
  formData.append('file', file);
  formData.append('folder', 'world-covers');

  const response = await fetch('/api/upload', {
    method: 'POST',
    body: formData
  });

  const { url } = await response.json();

  // 3. æ›´æ–°è¡¨å•
  setFormData({ ...formData, cover_url: url });
};
```

**2. AI ç”Ÿæˆå°é¢**
```typescript
const handleAIGenerate = async () => {
  // 1. æ‰“å¼€å¯¹è¯æ¡†ï¼Œè¾“å…¥å…³é”®è¯
  const keywords = await promptKeywords();

  // 2. è°ƒç”¨ AI ç”Ÿæˆ API
  const response = await fetch('/api/worlds/generate-cover', {
    method: 'POST',
    body: JSON.stringify({ keywords, world_name: formData.name })
  });

  const { generation_uuid } = await response.json();

  // 3. è½®è¯¢ç”ŸæˆçŠ¶æ€
  pollGenerationStatus(generation_uuid);

  // 4. å®Œæˆåæ›´æ–°å°é¢
};
```

**3. ä»å›¾åº“é€‰æ‹©**
```typescript
const handleSelectFromGallery = async () => {
  // 1. æ‰“å¼€å›¾åº“å¯¹è¯æ¡†
  const selectedUrl = await openGalleryDialog({
    category: 'world-covers',
    filters: { style: formData.tech_magic_system }
  });

  // 2. æ›´æ–°è¡¨å•
  if (selectedUrl) {
    setFormData({ ...formData, cover_url: selectedUrl });
  }
};
```

### SpeciesSelector ç»„ä»¶

```typescript
// ä¼ªä»£ç 
const SpeciesSelector = ({ value, onChange }) => {
  const presetSpecies = [
    { code: 'human', label_i18n_key: 'species.human' },
    { code: 'elf', label_i18n_key: 'species.elf' },
    { code: 'orc', label_i18n_key: 'species.orc' },
    // ...
  ];

  const [customInput, setCustomInput] = useState('');

  return (
    <div>
      {/* é¢„ç½®é€‰é¡¹ - Badge æ ·å¼ */}
      <div className="flex flex-wrap gap-2">
        {presetSpecies.map(species => (
          <Badge
            key={species.code}
            variant={value.includes(species.code) ? 'default' : 'outline'}
            onClick={() => toggleSpecies(species.code)}
          >
            {t(species.label_i18n_key)}
          </Badge>
        ))}
      </div>

      {/* å·²é€‰æ‹©çš„ç§æ— */}
      <div className="mt-4">
        {value.map(s => (
          <Badge key={s} variant="secondary">
            {s} <X onClick={() => removeSpecies(s)} />
          </Badge>
        ))}
      </div>

      {/* è‡ªå®šä¹‰è¾“å…¥ */}
      <div className="mt-4">
        <Input
          placeholder="æ·»åŠ è‡ªå®šä¹‰ç§æ—..."
          value={customInput}
          onChange={(e) => setCustomInput(e.target.value)}
          onKeyDown={(e) => {
            if (e.key === 'Enter' && customInput.trim()) {
              addCustomSpecies(customInput.trim());
              setCustomInput('');
            }
          }}
        />
      </div>
    </div>
  );
};
```

### FactionEditor å¯¹è¯æ¡†

```typescript
const FactionEditor = ({ faction, onSave, onCancel }) => {
  return (
    <Dialog>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>
            {faction ? 'ç¼–è¾‘åŠ¿åŠ›' : 'æ·»åŠ åŠ¿åŠ›'}
          </DialogTitle>
        </DialogHeader>

        <Form>
          <FormField name="name" label="åŠ¿åŠ›åç§°*" required />

          <FormField name="type" label="ç±»å‹" required>
            <Select>
              <option value="government">æ”¿åºœ</option>
              <option value="military">å†›äº‹</option>
              <option value="religion">å®—æ•™</option>
              <option value="guild">å…¬ä¼š</option>
              <option value="other">å…¶ä»–</option>
            </Select>
          </FormField>

          <FormField name="alignment" label="é˜µè¥ï¼ˆå¯é€‰ï¼‰">
            <Select>
              <option value="">æœªæŒ‡å®š</option>
              <option value="lawful_good">å®ˆåºå–„è‰¯</option>
              <option value="neutral_good">ä¸­ç«‹å–„è‰¯</option>
              <option value="chaotic_good">æ··ä¹±å–„è‰¯</option>
              <option value="lawful_neutral">å®ˆåºä¸­ç«‹</option>
              <option value="true_neutral">ç»å¯¹ä¸­ç«‹</option>
              <option value="chaotic_neutral">æ··ä¹±ä¸­ç«‹</option>
              <option value="lawful_evil">å®ˆåºé‚ªæ¶</option>
              <option value="neutral_evil">ä¸­ç«‹é‚ªæ¶</option>
              <option value="chaotic_evil">æ··ä¹±é‚ªæ¶</option>
            </Select>
          </FormField>

          <FormField name="description" label="ç®€ä»‹">
            <Textarea maxLength={500} />
          </FormField>

          <FormField name="icon_url" label="å›¾æ ‡">
            <ImageUploader folder="faction-icons" />
          </FormField>
        </Form>

        <DialogFooter>
          <Button variant="outline" onClick={onCancel}>å–æ¶ˆ</Button>
          <Button onClick={handleSave}>ä¿å­˜</Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
};
```

## æ•°æ®æ ¡éªŒ

ä½¿ç”¨ Zod Schema è¿›è¡Œå‰åç«¯åŒé‡æ ¡éªŒï¼š

```typescript
// src/types/world.ts
export const worldCreateSchema = z.object({
  name: z.string().min(1, "åç§°ä¸èƒ½ä¸ºç©º").max(100, "åç§°æœ€å¤š100å­—ç¬¦"),
  description: z.string().min(1, "ç®€ä»‹ä¸èƒ½ä¸ºç©º").max(500, "ç®€ä»‹æœ€å¤š500å­—"),
  cover_url: z.string().url("æ— æ•ˆçš„å°é¢å›¾URL").optional(),

  species: z.array(z.string()).max(20, "ç§æ—æœ€å¤š20ä¸ª").optional(),
  climate: z.string().max(100).optional(),
  regions: z.array(z.string()).max(20).optional(),
  tech_magic_system: z.string().max(100).optional(),

  theme_colors: z.object({
    primary: z.string().regex(/^#[0-9A-F]{6}$/i, "æ— æ•ˆçš„é¢œè‰²æ ¼å¼"),
    secondary: z.string().regex(/^#[0-9A-F]{6}$/i).optional(),
    accent: z.string().regex(/^#[0-9A-F]{6}$/i).optional(),
    background: z.string().regex(/^#[0-9A-F]{6}$/i).optional()
  }).optional(),

  factions: z.array(FactionSchema).max(50, "åŠ¿åŠ›æœ€å¤š50ä¸ª").optional(),
  history_timeline: z.array(EventSchema).max(100, "äº‹ä»¶æœ€å¤š100ä¸ª").optional(),

  extra: z.record(z.string()).optional(),
  visibility_level: z.enum(['public', 'private']).default('public')
});
```

## å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯ï¼ˆâ‰¥ 1024pxï¼‰

- ä¸¤åˆ—å¸ƒå±€ï¼Œå·¦ä¾§é¢„è§ˆï¼Œå³ä¾§è¡¨å•
- é«˜çº§è®¾ç½®é»˜è®¤æŠ˜å ï¼Œç‚¹å‡»å±•å¼€

### å¹³æ¿ç«¯ï¼ˆ768px - 1023pxï¼‰

- å•åˆ—å¸ƒå±€
- è¡¨å•å®½åº¦é€‚ä¸­ï¼Œç•™æœ‰å·¦å³è¾¹è·

### ç§»åŠ¨ç«¯ï¼ˆ< 768pxï¼‰

- å…¨å®½å•åˆ—å¸ƒå±€
- å°é¢å›¾ä¸Šä¼ æŒ‰é’®å‚ç›´æ’åˆ—
- ç§æ—ã€åœ°å½¢ç­‰å¤šé€‰æ ‡ç­¾è‡ªåŠ¨æ¢è¡Œ
- åŠ¿åŠ›ã€äº‹ä»¶åˆ—è¡¨ä½¿ç”¨å¡ç‰‡å¼å±•ç¤º

## å›½é™…åŒ–

**ç¿»è¯‘æ–‡ä»¶**ï¼š`src/i18n/pages/world/en.json`

```json
{
  "create": {
    "title": "Create New world",
    "basic_info": "Basic Information",
    "advanced_settings": "Advanced Settings",

    "fields": {
      "name": "Name",
      "description": "Description",
      "cover_image": "Cover Image",
      "species": "Main Species",
      "climate": "Climate/Environment",
      "regions": "Terrain/Regions",
      "tech_magic_system": "Tech/Magic System",
      "theme_colors": "Theme Colors",
      "factions": "Factions",
      "history": "History/Events",
      "extra": "Custom Fields"
    },

    "placeholders": {
      "name": "Enter world name...",
      "description": "Describe your world in 1-3 sentences...",
      "custom_species": "Add custom species..."
    },

    "actions": {
      "upload_image": "Upload Image",
      "ai_generate": "AI Generate",
      "select_from_gallery": "Select from Gallery",
      "add_faction": "Add Faction",
      "add_event": "Add Event",
      "save_draft": "Save Draft",
      "cancel": "Cancel",
      "create": "Create"
    }
  }
}
```

## å®ç°æ–‡ä»¶

**é¡µé¢ç»„ä»¶**ï¼š
- `src/app/[locale]/(default)/worlds/create/page.tsx`

**è¡¨å•ç»„ä»¶**ï¼š
- `src/components/worlds/worldForm.tsx`
- `src/components/worlds/BasicInfoSection.tsx`
- `src/components/worlds/AdvancedSettingsSection.tsx`

**å­ç»„ä»¶**ï¼š
- `src/components/worlds/CoverImageUploader.tsx`
- `src/components/worlds/SpeciesSelector.tsx`
- `src/components/worlds/ClimateSelector.tsx`
- `src/components/worlds/RegionsSelector.tsx`
- `src/components/worlds/TechMagicSystemCard.tsx`
- `src/components/worlds/FactionList.tsx`
- `src/components/worlds/FactionEditor.tsx`
- `src/components/worlds/EventList.tsx`
- `src/components/worlds/EventEditor.tsx`
- `src/components/worlds/CustomFieldsEditor.tsx`

**å·¥å…·å‡½æ•°**ï¼š
- `src/lib/world-utils.ts` - è¾…åŠ©å‡½æ•°ï¼ˆslug ç”Ÿæˆã€æ•°æ®æ ¼å¼åŒ–ç­‰ï¼‰

## API è°ƒç”¨

**åˆ›å»ºä¸–ç•Œè§‚**ï¼š
```typescript
POST /api/worlds

Request Body: {
  name: string;
  description: string;
  cover_url?: string;
  species?: string[];
  climate?: string;
  regions?: string[];
  tech_magic_system?: string;
  theme_colors?: {...};
  factions?: [...];
  history_timeline?: [...];
  extra?: {...};
  visibility_level: 'public' | 'private';
}

Response: {
  uuid: string;
  slug: string;
  message: "world created successfully"
}
```

**AI ç”Ÿæˆå°é¢**ï¼š
```typescript
POST /api/worlds/generate-cover

Request Body: {
  keywords: string;
  world_name: string;
}

Response: {
  generation_uuid: string;
  cost: 10; // MC
}
```

## å˜æ›´å†å²

- 2026-01-08 åˆå§‹ç‰ˆæœ¬åˆ›å»ºï¼ŒåŸºäºç®€å•è‰å›¾æ‰©å±•ä¸ºå®Œæ•´è®¾è®¡æ–‡æ¡£
- 2026-01-22 FEAT-WORLDS å¢åŠ ä¸–ç•Œè§‚å¯è§æ€§ç­‰çº§ä¸è®¢é˜…é™åˆ¶è¯´æ˜ï¼ˆå½±å“ï¼šé¡µé¢/è¡¨å•ï¼‰
