# 聊天系统 - 场景测试

## 测试目标

验证与 OC 角色对话的聊天功能。

## 前置条件

- [ ] 服务已启动
- [ ] 已登录测试账号
- [ ] 已创建至少 1 个 OC 角色
- [ ] 有足够积分（聊天可能消耗积分）

## 核心测试场景

### 场景 1: 创建聊天会话
- [ ] 打开聊天页面 `/chat`
- [ ] 选择一个 OC 角色
- [ ] 创建新会话
- [ ] 验证会话创建成功

### 场景 2: 发送消息
- [ ] 输入消息: `Hello! How are you?`
- [ ] 发送消息
- [ ] 验证消息显示在对话框
- [ ] 等待 AI 回复
- [ ] 验证回复符合角色性格

### 场景 3: 多轮对话
- [ ] 连续发送 5 条消息
- [ ] 验证上下文连贯性
- [ ] 验证角色记忆（提到之前的话题）

### 场景 4: 会话历史
- [ ] 刷新页面
- [ ] 验证会话历史加载
- [ ] 滚动查看历史消息

### 场景 5: 切换角色
- [ ] 切换到另一个 OC 角色
- [ ] 验证新会话创建
- [ ] 验证不同角色有不同对话风格

### 场景 6: 会话管理
- [ ] 查看会话列表
- [ ] 切换不同会话
- [ ] 删除会话

### 场景 7: 聊天配置
- [ ] 查看聊天限制（每日消息数）
- [ ] 验证 VIP 用户有更多限额

### 场景 8: 错误处理
- [ ] 网络错误时重试
- [ ] 消息发送失败提示
- [ ] 限额用尽提示

### 场景 9: 实时流式输出
- [ ] 发送消息
- [ ] 验证 AI 回复逐字显示（打字机效果）

### 场景 10: 响应式设计
- [ ] 移动端聊天界面
- [ ] 输入框适配
- [ ] 消息气泡布局

## 相关文档
- API: `docs/2-implementation/api/chat.md`
- 功能: `docs/2-implementation/features/feature-chat.md`

## 变更历史
- 2025-11-12 初始版本
